window.social_share=null,function(){"use strict";function a(){}a.prototype={},a.prototype.vars={windowWidth:600,windowHeight:400,countClass:".share-count"},a.prototype.shareUrls={facebook:"https://www.facebook.com/sharer/sharer.php",twitter:"https://www.twitter.com/share",googleplus:"https://plus.google.com/share"},a.prototype.getShareUrl=function(a){var b=!1;return"undefined"!=typeof this.shareUrls[a]&&(b=this.shareUrls[a]),b},a.prototype.setup=function(a){var b=a.getAttribute("data-url"),c=a.getAttribute("data-title"),d=a.getAttribute("data-type");"facebook"==d?this.setupFacebook(a,b,c):"twitter"==d?this.setupTwitter(a,b,c):"googleplus"==d&&this.setupGoogleplus(a,b,c)},a.prototype.setupFacebook=function(a,b,c){var d=this.getShareUrl("facebook")+"?u="+b+"&title="+c;this.setupShare(a,d,"facebook")},a.prototype.setupTwitter=function(a,b,c){var d=this.getShareUrl("twitter")+"?url="+b+"&title="+c;this.setupShare(a,d,"twitter")},a.prototype.setupGoogleplus=function(a,b,c){var d=this.getShareUrl("googleplus")+"?url="+b+"&title="+c;this.setupShare(a,d,"googleplus")},a.prototype.setupShare=function(a,b,c){var d=this;a.addEventListener("click",function(){var e=d.openShareWindow(b),f=setInterval(function(){if(1==e.closed){if("string"==typeof c){var b=a.getAttribute("data-url");"facebook"==c?d.changeShareCountFacebook(a,b):"twitter"==c?d.changeShareCountTwitter(a,b):"googleplus"==c&&d.changeShareCountGoogleplus(a,b)}else"function"==typeof c&&c(b);clearInterval(f)}},100);return!1})},a.prototype.openShareWindow=function(a){var b=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,c=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,d=this.vars.windowWidth,e=this.vars.windowHeight,f=(b-d)/2,g=(c-e)/2,h="status=1,width="+d+",height="+e+",top="+g+",left="+f,i=window.open(a,"social_share",h);return i},a.prototype.changeShareCountFacebook=function(a,b){var c=this,d=0,e="http://graph.facebook.com/?id="+b;"undefined"!=typeof jQuery&&jQuery.ajax({type:"GET",url:e,async:!1,contentType:"application/json",dataType:"jsonp",success:function(b){d=b.shares,c.changeShareCount(a,d)}})},a.prototype.changeShareCountTwitter=function(a,b){var c=this,d=0,e="http://cdn.api.twitter.com/1/urls/count.json?url="+b;"undefined"!=typeof jQuery&&jQuery.ajax({type:"GET",url:e,async:!1,contentType:"application/json",dataType:"jsonp",success:function(b){d=b.count,c.changeShareCount(a,d)}})},a.prototype.changeShareCountGoogleplus=function(a,b){var c=this,d=0,e="AIzaSyBP9vspnCw5zU-vWEROJE-ZeEvZBRx1Lpg",f="https://clients6.google.com/rpc?key="+e;"undefined"!=typeof jQuery&&jQuery.getJSON(f,{method:"pos.plusones.get",id:"p",params:{nolog:!0,id:b,source:"widget",userId:"@viewer",groupId:"@self"},jsonrpc:"2.0",key:"p",apiVersion:"v1"},function(b){d=b.count,c.changeShareCount(a,d)})},a.prototype.changeShareCount=function(a,b){var c=a.parentNode,d=c.querySelector(this.vars.countClass);d.textContent=b},window.social_share=a}();